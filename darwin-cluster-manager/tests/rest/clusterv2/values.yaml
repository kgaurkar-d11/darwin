{
  "image":
    {
      "repository": "000375658054.dkr.ecr.us-east-1.amazonaws.com/ray-images",
      "tag": "Ray2.5.1-Py310-Spark3.3.1-CPU",
      "pullPolicy": "Always",
    },
  "nameOverride": "kuberay",
  "fullnameOverride": "",
  "imagePullSecrets": [ ],
  "head":
    {
      "enableInTreeAutoscaling": true,
      "enableIngress": true,
      "serviceType": "LoadBalancer",
      "groupName": "headgroup",
      "replicas": 1,
      "type": "head",
      "initArgs":
        {
          "port": "6379",
          "redis-password": "",
          "dashboard-host": "0.0.0.0",
          "num-cpus": "0",
          "node-ip-address": "$MY_POD_IP",
          "block": "true",
          "metrics-export-port": "8080",
          "num-gpus": "0",
          "object-store-memory": "1073741824",
        },
      "containerEnv":
        [
          {
            "name": "MY_POD_IP",
            "valueFrom": { "fieldRef": { "fieldPath": "status.podIP" } },
          },
          { "name": "TERMINATE_AFTER", "value": "60" },
          { "name": "CLUSTER_NAME", "value": "test-cluster" },
          { "name": "CLUSTER_ID", "value": "id-test" },
          {
            "name": "INIT_SCRIPT_API",
            "value": "darwin-compute-mlp-stag.dream11-stag.local/init-script-status",
          },
          {
            "name": "RAY_PROMETHEUS_HOST",
            "value": "http://id-test-prometheus.prometheus.svc.cluster.local:9090",
          },
          {
            "name": "RAY_GRAFANA_HOST",
            "value": "http://id-test-grafana.prometheus.svc.cluster.local:3000",
          },
          {
            "name": "RAY_GRAFANA_IFRAME_HOST",
            "value": "https://darwin-int-11-stag.d11dev.com/id-test-metrics",
          },
          { "name": "ENV", "value": "stag" },
          { "name": "CREATED_BY", "value": "sdk" },
          { "name": "CLOUD", "value": "AWS" },
        ],
      "envFrom": [ ],
      "resources":
        {
          "limits": { "cpu": 2, "memory": "4G" },
          "requests": { "cpu": 2, "memory": "4G" },
        },
      "ports":
        [
          { "containerPort": 6379, "name": "gcs" },
          { "containerPort": 8265, "name": "dashboard" },
          { "containerPort": 10001, "name": "client" },
          { "containerPort": 8000, "name": "serve" },
          { "containerPort": 8888, "name": "jupyter" },
          { "containerPort": 8080, "name": "metrics" },
          { "containerPort": 4040, "name": "sparkui" },
          { "containerPort": 3000, "name": "vscode" },
        ],
      "annotations": { },
      "nodeSelector": { },
      "tolerations": [ ],
      "affinity": { },
      "securityContext": { "runAsGroup": 100, "runAsUser": 1000 },
      "volumes":
        [
          { "name": "log-volume", "emptyDir": { } },
          {
            "name": "id-test-scripts-vol",
            "configMap": { "name": "id-test-script", "defaultMode": 511 },
          },
          {
            "name": "persistent-storage",
            "persistentVolumeClaim": { "claimName": "fsx-claim-13" },
          },
        ],
      "volumeMounts":
        [
          { "mountPath": "/tmp/ray", "name": "log-volume" },
          { "mountPath": "/tmp/script", "name": "id-test-scripts-vol" },
          { "name": "persistent-storage", "mountPath": "/home/ray/fsx" },
        ],
      "sidecarContainers": [ ],
    },
  "worker":
    {
      "groupName": "wg",
      "replicas": 1,
      "miniReplicas": 1,
      "maxiReplicas": 2,
      "type": "worker",
      "initArgs":
        {
          "node-ip-address": "$MY_POD_IP",
          "redis-password": "LetMeInRay",
          "block": "true",
          "metrics-export-port": "8080",
          "object-store-memory": "1073741824",
        },
      "containerEnv":
        [
          {
            "name": "MY_POD_IP",
            "valueFrom": { "fieldRef": { "fieldPath": "status.podIP" } },
          },
          { "name": "RAY_DISABLE_DOCKER_CPU_WARNING", "value": "1" },
          {
            "name": "CPU_REQUEST",
            "valueFrom":
              {
                "resourceFieldRef":
                  { "containerName": "ray-worker", "resource": "requests.cpu" },
              },
          },
          {
            "name": "MY_POD_NAME",
            "valueFrom": { "fieldRef": { "fieldPath": "metadata.name" } },
          },
          { "name": "TERMINATE_AFTER", "value": "60" },
          { "name": "CLUSTER_NAME", "value": "test-cluster" },
          { "name": "CLUSTER_ID", "value": "id-test" },
          {
            "name": "INIT_SCRIPT_API",
            "value": "darwin-compute-mlp-stag.dream11-stag.local/init-script-status",
          },
          {
            "name": "RAY_PROMETHEUS_HOST",
            "value": "http://id-test-prometheus.prometheus.svc.cluster.local:9090",
          },
          {
            "name": "RAY_GRAFANA_HOST",
            "value": "http://id-test-grafana.prometheus.svc.cluster.local:3000",
          },
          {
            "name": "RAY_GRAFANA_IFRAME_HOST",
            "value": "https://darwin-int-11-stag.d11dev.com/id-test-metrics",
          },
          { "name": "ENV", "value": "stag" },
          { "name": "CREATED_BY", "value": "sdk" },
          { "name": "CLOUD", "value": "AWS" },
        ],
      "envFrom": [ ],
      "ports": [ { "containerPort": 8080, "name": "metrics" } ],
      "resources":
        {
          "limits": { "cpu": 2, "memory": "4G" },
          "requests": { "cpu": 2, "memory": "4G" },
        },
      "annotations": { "key": "value" },
      "nodeSelector": { },
      "tolerations": [ ],
      "affinity": { },
      "securityContext": { },
      "volumes":
        [
          { "name": "log-volume", "emptyDir": { } },
          {
            "name": "id-test-scripts-vol",
            "configMap": { "name": "id-test-script", "defaultMode": 511 },
          },
        ],
      "volumeMounts":
        [
          { "mountPath": "/tmp/ray", "name": "log-volume" },
          { "mountPath": "/tmp/script", "name": "id-test-scripts-vol" },
        ],
      "sidecarContainers": [ ],
    },
  "service": { "type": "ClusterIP" },
  "commands": [ ],
  "sparkConfig":
    {
      "spark.ui.proxyRedirectUri": "https://darwin-int-11-stag.d11dev.com",
      "spark.ui.proxyBase": "/id-test-sparkui",
    },
  "init_image": "000375658054.dkr.ecr.us-east-1.amazonaws.com/busybox:1.28",
  "is_job_cluster": false,
  "env": "stag",
  "user": "sdk",
  "cluster_name": "test-cluster",
  "terminate_after_minutes": 60,
  "cluster_id": "id-test",
}
